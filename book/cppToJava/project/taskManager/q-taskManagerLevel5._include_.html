<panel header="<span class='glyphicon glyphicon-question-sign' aria-hidden='true'></span> TaskManager Level 5 - **Store data in a file**">
  <div id="body">
    <p>
      <panel type="seamless" src="/website\book\cppToJava\project\taskManager\q-taskManagerLevel1._include_.html#main" header="<span class='glyphicon glyphicon-education' aria-hidden='true'></span> TM-L1" minimized="" fragment="main"></panel>
      <panel type="seamless" src="/website\book\cppToJava\project\taskManager\q-taskManagerLevel2._include_.html#main" header="<span class='glyphicon glyphicon-education' aria-hidden='true'></span> TM-L2" minimized="" fragment="main"></panel>
      <panel type="seamless" src="/website\book\cppToJava\project\taskManager\q-taskManagerLevel3._include_.html#main" header="<span class='glyphicon glyphicon-education' aria-hidden='true'></span> TM-L3" minimized="" fragment="main"></panel>
      <panel type="seamless" src="/website\book\cppToJava\project\taskManager\q-taskManagerLevel4._include_.html#main" header="<span class='glyphicon glyphicon-education' aria-hidden='true'></span> TM-L4" minimized="" fragment="main"></panel>
    </p>
    <p><span class="dimmed">This exercise continues from the <code>TaskManager Level 1-4</code> exercises quoted above.</span></p>
    <div id="main">
      <p><strong>Enhance the TaskManager to store tasks in a text file</strong> between runs:</p>
      <ol>
        <li>The text file can follow a format of your choice. For example, each line can represent one task. The attributes can be separated using a suitable delimiter.<br>Here is an example format:
          <pre class="hljs"><code>T | 1 | read book
D | 0 | return book | June 6th
T | 1 | join sports club
</code></pre>
          <ul>
            <li>In the above example <code>|</code> is used as a delimiter, <code>T</code> â†’ Todo, <code>D</code> â†’ Deadline, <code>1</code> â†’ task done, <code>0</code> â†’ task not done.</li>
            <li>ðŸ’¡ If you use <code>|</code> as the delimiter, use <code>split(&quot;\\|&quot;)</code> to split the line into its parts. <code>split(&quot;|&quot;)</code> will not work <span class="dimmed">because <code>|</code> has a special meaning when used in this context</span>.</li>
          </ul>
        </li>
        <li>Load all tasks in the text file to the memory (i.e., convert to <code>Task</code> objects) at the start up of TaskManager. You can assume the data are in a predetermined file <span class="dimmed">e.g., <code>data/tasks.txt</code></span>.</li>
        <li>Save all tasks to the text file every time there is a change to the data. <span class="dimmed">Alternatively, you can introduce a new command to save tasks to the text file.</span></li>
      </ol>
      <panel type="seamless" header="Partial solution">
        <p>Here's an example method for loading data from the text file. Use this method at the start of your main method to load the tasks from the text file.</p>
        <pre><code class="hljs java">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;Task&gt; <span class="hljs-title">getTasksFromFile</span><span class="hljs-params">()</span> </span>{
        List&lt;Task&gt; loadedTasks = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
        <span class="hljs-keyword">try</span> {
            List&lt;String&gt; lines = getLines(<span class="hljs-string">"data/tasks.txt"</span>);
            <span class="hljs-keyword">for</span> (String line : lines) {
                <span class="hljs-keyword">if</span> (line.trim().isEmpty()) { <span class="hljs-comment">//ignore empty lines</span>
                    <span class="hljs-keyword">continue</span>;
                }
                loadedTasks.add(createTask(line)); <span class="hljs-comment">//convert the line to a task and add to the list</span>
            }
        } <span class="hljs-keyword">catch</span> (FileNotFoundException e) {
            printError(<span class="hljs-string">"problem encountered while loading data: "</span> + e.getMessage());
        }
        <span class="hljs-keyword">return</span> loadedTasks;
    }
</code></pre>
      </panel>
    </div>
  </div>
</panel>